chrome.runtime.onMessage.addListener(((e,a,t)=>{if(e.type,"getProfileData"===e.type)return chrome.storage.local.get("profileData",(e=>{t({status:"success",data:e.profileData||{}})})),!0;if("sendProfileDataViaEmail"===e.type)return chrome.storage.local.get("profileData",(e=>{const a=e.profileData||{},s=Object.keys(a).map((e=>`${e}: ${a[e]}`)).join("\n"),r=`mailto:?subject=Profile Data&body=${encodeURIComponent(s)}`;window.open(r),t({status:"success",message:"Email sent successfully."})})),!0;const s=(e,a)=>{chrome.storage.local.get("profileData",(s=>{const r=s.profileData||{};e?r[e]=a:Object.assign(r,a),chrome.storage.local.set({profileData:r},(()=>{t({status:"success",message:`${e||"Profile"} data saved.`})}))}))};switch(e.type){case"profileData":return s(null,e.data),!0;case"certificatesData":return s("certificates",e.data),!0;case"experiencesData":return s("experiences",e.data),!0;case"educationData":return s("education",e.data),!0;case"languagesData":return s("languages",e.data),!0;default:return console.warn("Unknown message type:",e.type),t({status:"error",message:"Unknown message type."}),!1}}));